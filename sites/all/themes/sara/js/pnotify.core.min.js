(function(a,b){if(typeof define==="function"&&define.amd){define("pnotify",["jquery"],function(c){return b(c,a)})}else{if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b(require("jquery"),global||a)}else{a.PNotify=b(a.jQuery,a)}}}(typeof window!=="undefined"?window:this,function(b,a){var c=function(e){var f={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:b("body"),modal:false};var k,d,j=b(e);var g=function(){d=b("body");i.prototype.options.stack.context=d;j=b(e);j.bind("resize",function(){if(k){clearTimeout(k)}k=setTimeout(function(){i.positionAll(true)},10)})};var h=function(l){var m=b("<div />",{"class":"ui-pnotify-modal-overlay"});m.prependTo(l.context);if(l.overlay_close){m.click(function(){i.removeStack(l)})}return m};var i=function(l){this.parseOptions(l);this.init()};b.extend(i.prototype,{version:"3.0.0",options:{title:false,title_escape:false,text:false,text_escape:false,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:true,width:"300px",min_height:"16px",type:"notice",icon:true,animation:"fade",animate_speed:"normal",shadow:true,hide:true,delay:8000,mouse_reset:true,remove:true,insert_brs:true,destroy:true,stack:f},modules:{},runModules:function(o,l){var n;for(var m in this.modules){n=((typeof l==="object"&&m in l)?l[m]:l);if(typeof this.modules[m][o]==="function"){this.modules[m].notice=this;this.modules[m].options=typeof this.options[m]==="object"?this.options[m]:{};this.modules[m][o](this,typeof this.options[m]==="object"?this.options[m]:{},n)}}},state:"initializing",timer:null,animTimer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:false,timerHide:false,init:function(){var l=this;this.modules={};b.extend(true,this.modules,i.prototype.modules);if(typeof this.options.styling==="object"){this.styles=this.options.styling}else{this.styles=i.styling[this.options.styling]}this.elem=b("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(m){if(l.options.mouse_reset&&l.animating==="out"){if(!l.timerHide){return}l.cancelRemove()}if(l.options.hide&&l.options.mouse_reset){l.cancelRemove()}},mouseleave:function(m){if(l.options.hide&&l.options.mouse_reset&&l.animating!=="out"){l.queueRemove()}i.positionAll()}});if(this.options.animation==="fade"){this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed)}this.container=b("<div />",{"class":this.styles.container+" ui-pnotify-container "+(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice))),role:"alert"}).appendTo(this.elem);if(this.options.cornerclass!==""){this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass)}if(this.options.shadow){this.container.addClass("ui-pnotify-shadow")}if(this.options.icon!==false){b("<div />",{"class":"ui-pnotify-icon"}).append(b("<span />",{"class":this.options.icon===true?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container)}this.title_container=b("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container);if(this.options.title===false){this.title_container.hide()}else{if(this.options.title_escape){this.title_container.text(this.options.title)}else{this.title_container.html(this.options.title)}}this.text_container=b("<div />",{"class":"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container);if(this.options.text===false){this.text_container.hide()}else{if(this.options.text_escape){this.text_container.text(this.options.text)}else{this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text)}}if(typeof this.options.width==="string"){this.elem.css("width",this.options.width)}if(typeof this.options.min_height==="string"){this.container.css("min-height",this.options.min_height)}if(this.options.stack.push==="top"){i.notices=b.merge([this],i.notices)}else{i.notices=b.merge(i.notices,[this])}if(this.options.stack.push==="top"){this.queuePosition(false,1)}this.options.stack.animation=false;this.runModules("init");if(this.options.auto_display){this.open()}return this},update:function(l){var m=this.options;this.parseOptions(m,l);this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast");if(this.options.animation==="fade"){this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed)}if(this.options.cornerclass!==m.cornerclass){this.container.removeClass("ui-corner-all "+m.cornerclass).addClass(this.options.cornerclass)}if(this.options.shadow!==m.shadow){if(this.options.shadow){this.container.addClass("ui-pnotify-shadow")}else{this.container.removeClass("ui-pnotify-shadow")}}if(this.options.addclass===false){this.elem.removeClass(m.addclass)}else{if(this.options.addclass!==m.addclass){this.elem.removeClass(m.addclass).addClass(this.options.addclass)}}if(this.options.title===false){this.title_container.slideUp("fast")}else{if(this.options.title!==m.title){if(this.options.title_escape){this.title_container.text(this.options.title)}else{this.title_container.html(this.options.title)}if(m.title===false){this.title_container.slideDown(200)}}}if(this.options.text===false){this.text_container.slideUp("fast")}else{if(this.options.text!==m.text){if(this.options.text_escape){this.text_container.text(this.options.text)}else{this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text)}if(m.text===false){this.text_container.slideDown(200)}}}if(this.options.type!==m.type){this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice)))}if(this.options.icon!==m.icon||(this.options.icon===true&&this.options.type!==m.type)){this.container.find("div.ui-pnotify-icon").remove();if(this.options.icon!==false){b("<div />",{"class":"ui-pnotify-icon"}).append(b("<span />",{"class":this.options.icon===true?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container)}}if(this.options.width!==m.width){this.elem.animate({width:this.options.width})}if(this.options.min_height!==m.min_height){this.container.animate({minHeight:this.options.min_height})}if(!this.options.hide){this.cancelRemove()}else{if(!m.hide){this.queueRemove()}}this.queuePosition(true);this.runModules("update",m);return this},open:function(){this.state="opening";this.runModules("beforeOpen");var l=this;if(!this.elem.parent().length){this.elem.appendTo(this.options.stack.context?this.options.stack.context:d)}if(this.options.stack.push!=="top"){this.position(true)}this.animateIn(function(){l.queuePosition(true);if(l.options.hide){l.queueRemove()}l.state="open";l.runModules("afterOpen")});return this},remove:function(l){this.state="closing";this.timerHide=!!l;this.runModules("beforeClose");var m=this;if(this.timer){e.clearTimeout(this.timer);this.timer=null}this.animateOut(function(){m.state="closed";m.runModules("afterClose");m.queuePosition(true);if(m.options.remove){m.elem.detach()}m.runModules("beforeDestroy");if(m.options.destroy){if(i.notices!==null){var n=b.inArray(m,i.notices);if(n!==-1){i.notices.splice(n,1)}}}m.runModules("afterDestroy")});return this},get:function(){return this.elem},parseOptions:function(m,q){this.options=b.extend(true,{},i.prototype.options);this.options.stack=i.prototype.options.stack;var l=[m,q],p;for(var n=0;n<l.length;n++){p=l[n];if(typeof p==="undefined"){break}if(typeof p!=="object"){this.options.text=p}else{for(var o in p){if(this.modules[o]){b.extend(true,this.options[o],p[o])}else{this.options[o]=p[o]}}}}},animateIn:function(m){this.animating="in";var l=this;m=(function(){if(l.animTimer){clearTimeout(l.animTimer)}if(l.animating!=="in"){return}if(l.elem.is(":visible")){if(this){this.call()}l.animating=false}else{l.animTimer=setTimeout(m,40)}}).bind(m);if(this.options.animation==="fade"){this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",m).addClass("ui-pnotify-in");this.elem.css("opacity");this.elem.addClass("ui-pnotify-fade-in");this.animTimer=setTimeout(m,650)}else{this.elem.addClass("ui-pnotify-in");m()}},animateOut:function(m){this.animating="out";var l=this;m=(function(){if(l.animTimer){clearTimeout(l.animTimer)}if(l.animating!=="out"){return}if(l.elem.css("opacity")=="0"||!l.elem.is(":visible")){l.elem.removeClass("ui-pnotify-in");if(this){this.call()}l.animating=false}else{l.animTimer=setTimeout(m,40)}}).bind(m);if(this.options.animation==="fade"){this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",m).removeClass("ui-pnotify-fade-in");this.animTimer=setTimeout(m,650)}else{this.elem.removeClass("ui-pnotify-in");m()}},position:function(m){var l=this.options.stack,q=this.elem;if(typeof l.context==="undefined"){l.context=d}if(!l){return}if(typeof l.nextpos1!=="number"){l.nextpos1=l.firstpos1}if(typeof l.nextpos2!=="number"){l.nextpos2=l.firstpos2}if(typeof l.addpos2!=="number"){l.addpos2=0}var s=!q.hasClass("ui-pnotify-in");if(!s||m){if(l.modal){if(l.overlay){l.overlay.show()}else{l.overlay=h(l)}}q.addClass("ui-pnotify-move");var r,p;var o;switch(l.dir1){case"down":o="top";break;case"up":o="bottom";break;case"left":o="right";break;case"right":o="left";break}r=parseInt(q.css(o).replace(/(?:\..*|[^0-9.])/g,""));if(isNaN(r)){r=0}if(typeof l.firstpos1==="undefined"&&!s){l.firstpos1=r;l.nextpos1=l.firstpos1}var n;switch(l.dir2){case"down":n="top";break;case"up":n="bottom";break;case"left":n="right";break;case"right":n="left";break}p=parseInt(q.css(n).replace(/(?:\..*|[^0-9.])/g,""));if(isNaN(p)){p=0}if(typeof l.firstpos2==="undefined"&&!s){l.firstpos2=p;l.nextpos2=l.firstpos2}if((l.dir1==="down"&&l.nextpos1+q.height()>(l.context.is(d)?j.height():l.context.prop("scrollHeight")))||(l.dir1==="up"&&l.nextpos1+q.height()>(l.context.is(d)?j.height():l.context.prop("scrollHeight")))||(l.dir1==="left"&&l.nextpos1+q.width()>(l.context.is(d)?j.width():l.context.prop("scrollWidth")))||(l.dir1==="right"&&l.nextpos1+q.width()>(l.context.is(d)?j.width():l.context.prop("scrollWidth")))){l.nextpos1=l.firstpos1;l.nextpos2+=l.addpos2+(typeof l.spacing2==="undefined"?25:l.spacing2);l.addpos2=0}if(typeof l.nextpos2==="number"){if(!l.animation){q.removeClass("ui-pnotify-move");q.css(n,l.nextpos2+"px");q.css(n);q.addClass("ui-pnotify-move")}else{q.css(n,l.nextpos2+"px")}}switch(l.dir2){case"down":case"up":if(q.outerHeight(true)>l.addpos2){l.addpos2=q.height()}break;case"left":case"right":if(q.outerWidth(true)>l.addpos2){l.addpos2=q.width()}break}if(typeof l.nextpos1==="number"){if(!l.animation){q.removeClass("ui-pnotify-move");q.css(o,l.nextpos1+"px");q.css(o);q.addClass("ui-pnotify-move")}else{q.css(o,l.nextpos1+"px")}}switch(l.dir1){case"down":case"up":l.nextpos1+=q.height()+(typeof l.spacing1==="undefined"?25:l.spacing1);break;case"left":case"right":l.nextpos1+=q.width()+(typeof l.spacing1==="undefined"?25:l.spacing1);break}}return this},queuePosition:function(l,m){if(k){clearTimeout(k)}if(!m){m=10}k=setTimeout(function(){i.positionAll(l)},m);return this},cancelRemove:function(){if(this.timer){e.clearTimeout(this.timer)}if(this.animTimer){e.clearTimeout(this.animTimer)}if(this.state==="closing"){this.state="open";this.animating=false;this.elem.addClass("ui-pnotify-in");if(this.options.animation==="fade"){this.elem.addClass("ui-pnotify-fade-in")}}return this},queueRemove:function(){var l=this;this.cancelRemove();this.timer=e.setTimeout(function(){l.remove(true)},(isNaN(this.options.delay)?0:this.options.delay));return this}});b.extend(i,{notices:[],reload:c,removeAll:function(){b.each(i.notices,function(){if(this.remove){this.remove(false)}})},removeStack:function(l){b.each(i.notices,function(){if(this.remove&&this.options.stack===l){this.remove(false)}})},positionAll:function(l){if(k){clearTimeout(k)}k=null;if(i.notices&&i.notices.length){b.each(i.notices,function(){var n=this.options.stack;if(!n){return}if(n.overlay){n.overlay.hide()}n.nextpos1=n.firstpos1;n.nextpos2=n.firstpos2;n.addpos2=0;n.animation=l});b.each(i.notices,function(){this.position()})}else{var m=i.prototype.options.stack;if(m){delete m.nextpos1;delete m.nextpos2}}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}});i.styling.fontawesome=b.extend({},i.styling.bootstrap3);b.extend(i.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"});if(e.document.body){g()}else{b(g)}return i};return c(a)}));